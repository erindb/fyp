<!DOCTYPE html>
<html>

<head>
  <title>Narrative Cloze Task</title>
  <meta charset="utf-8">
  <script src="js/jquery-2.2.0.min.js"></script>
  <script src="js/jquery-ui.js"></script>
  <script src="js/mmturkey-0.6.js"></script>
  <script src="js/underscore-min.js"></script>

  <!-- sample random seed for playback later -->
  <script>var aRandomSeed = Math.random();</script>
  <script src="js/seedrandom.min.js"></script>

  <link rel="stylesheet" href="css/jquery-ui.css" />
  <link rel="stylesheet" href="css/genericExperiment.css" />
  <link rel="stylesheet" href="css/thisExperiment.css" />
</head>

<body>

<div id="mustaccept"></div>

<div class="slide" id="intro">
  <div id="stanfordHeader">
    <img src="images/stanford.png" height="46" width="360" alt="Stanford University">
  </div>
  <p id='logo-text'>Stanford Computation and Cognition Lab</p>
  <p class="block-text">
  In this experiment, we are interested in what knowledge people have about restaurants. You will see a series of very short stories that took place at a restaurant, and fill in the blanks left in those stories.</p>
  <button type="button" class="start">Start</button>
  <!-- Legal blurb that we're required to show. -->
  <div id="legal">
    <p>
    Legal information: By answering the following questions, you are participating in a study being performed by cognitive scientists in the Stanford Department of Psychology. If you have questions about this research, please contact Erin Bennett at <a href="mailto://erindb@stanford.edu">erindb@stanford.edu</a> or Noah Goodman, at ngoodman@stanford.edu. You must be  at least 18 years old to participate. Your participation in this research is voluntary. You may decline to answer any or all of the following questions. You may decline further participation, at any time, without adverse consequences. Your anonymity is assured; the researchers who have requested your participation will not receive any personal information about you. <br/>
    Note however that we have recently been made aware that your public Amazon.com profile can be accessed via your worker ID if you do not choose to opt out. If you would like to opt out of this feature, you may follow instructions available <a href="//www.amazon.com/gp/help/customer/display.html?nodeId=16465241">here</a>.
    </p>
  </div>
</div>

<div class='slide' id='instructions'>
  <p>We are interested in what knowledge people have about restaurants. You will see a series of very short stories that took place at a restaurant. For each story, one event will be left blank. Please fill in the blank with whatever you feel would likely and plausible. Completions should be short phrases.</p>
  <p>Most questions will likely have multiple reasonable responses. Please respond with your first impression of a plausible completion.</p>
  <p>Sometimes we will take only an excerpt from the original story. If we skip some information, we will indicate this with "...".</p>

  <button type='button' onclick='experiment.state.next()'>Continue</button>
</div>

<div class='slide' id='trial'>



<button type='button' onclick='experiment.state.next()'>Continue</button>

<p class='err'>Please fill in the blank with your response.</p>

</div>

<div class='slide' id='attention'>
<p class='attention'>... This is not one of the stories. I'm just checking to see that you're paying attention. .... If you're reading this, type "apples" in the next blank provided. ... The waiter brought the customer food and the customer <input type='text' class='attentionResponse'> the food. ... Thank you for your attention.</p>
<button type='button' onclick='experiment.state.next()'>Continue</button>
<p class='err'>Please fill in the blank with your response.</p>
</div>

<div class="slide" id="demographic">
<p>Thank you for participating! We would like to ask you some final questions.
Please click the 'Continue' button when you are finished.</p>

<div class='demographicQuestions'>
  <p>*What is/are your native language(s)? (The languages spoken in your household when you were a child.)
    <select id='language'>
    <option value=''></option>
    <option value='eng'>English only</option>
    <option value='eng+other'>English and other language(s)</option>
    <option value='other'>other language(s)</option>
    <option value='NA'>decline to state</option></select>
    <span class='languageFree'>What other language(s)? <input type='text' id='languageFree'></input></span></p>

  <p>*What is your gender? <select id='gender'>
    <option value=''></option>
    <option value='female'>female</option>
    <option value='male'>male</option>
    <option value='NA'>decline to state</option></select></p>

  <p>How old are you? <input type='text' id='age'></input></p>

  <p>What is your ethnicity? <input type='text' id='ethnicity'></input></p>

  <p>*What is your level of education? <select id='education'>
    <option value=''></option>
    <option value='0'>Did not graduate high school</option>
    <option value='1'>High school diploma</option>
    <option value='2'>Some college, no degree</option>
    <option value='3'>Associates Degree</option>
    <option value='4'>Bachelors Degree</option>
    <option value='5'>Some graduate school, no degree</option>
    <option value='6'>Masters Degree</option>
    <option value='7'>Doctorate, M.D., etc.</option>
    <option value='NA'>decline to state</option></select></p>

  <p>What do you think this HIT was about?<br/><textarea rows='3' cols='30' id='studyQuestionGuess'></textarea></p>

  <p>Do you have any comments on this HIT?<br/><textarea rows='3' cols='30' id='comments'></textarea></p>
</div>

<button type='button' onclick='experiment.state.next()'>Continue</button>

<p class='footnote'>* indicates a required field, but you can choose 'decline to state'</p>

</div>



<div class="slide" id="debriefing">
<p>If you'd like to know more about this experiment, <a target="_blank" href="debriefing/">here's a link to more information</a>.</p>
<h3>Click the Submit button to finish the experiment.</h3>

<button type='button' onclick='experiment.state.next()'>Submit</button>

</div>

<div class="slide" id="finished">
<p>You're finished - thanks for participating! Submitting to Mechanical Turk...</p>
</div>

<!-- set random seed for playback later -->
<script>Math.seedrandom(aRandomSeed);</script>
<script src="js/experiment.js"></script>
</body>
</html>

<!-- <script>
function pad(num, size) {
    var s = "000000000" + num;
    return s.substr(s.length-size);
}
function cloze(doc, chn, clz) {
	$(".document" + doc + ".chain" + chn).show();
	$(".document" + doc + ".chain" + chn + ".cloze" + clz).hide();
	$(".document" + doc + ".chain" + chn + ".cloze" + clz).before(
		"<input type=\'text\'></input>"
	);
}
for (var d=0; d<50; d++) {
	var doc = pad(d, 3);
	var chains = $(".document" + doc + ".chain");
	var nChains = chains.length;
	var chn = _.sample(_.range(nChains));
	var clozes = $(".document" + doc + ".chain" + chn + ".cloze");
	var nClozes = clozes.length;
	var clz = _.sample(_.range(nClozes));
	cloze(doc, chn, clz)
}
</script> -->